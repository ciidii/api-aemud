"use strict";(self.webpackChunkamued_frontend=self.webpackChunkamued_frontend||[]).push([[152],{3152:(Pe,S,_)=>{_.r(S),_.d(S,{MemberDetailsComponent:()=>xe});var M=_(177),r=_(4341),e=_(4438),N=_(7681),$=_(1794),G=_(345),T=_(5794),x=_(5373),P=_(5708),A=_(2308),q=_(3076);const f=n=>({"is-invalid":n}),Y=(n,s)=>({"bg-success":n,"bg-danger":s});function O(n,s){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",35)(2,"div",36)(3,"p",10)(4,"strong"),e.EFF(5,"Pr\xe9nom :"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"p",10)(8,"strong"),e.EFF(9,"Nom :"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"p",10)(12,"strong"),e.EFF(13,"Nationalit\xe9 :"),e.k0s(),e.EFF(14),e.k0s()(),e.j41(15,"div",36)(16,"p",10)(17,"strong"),e.EFF(18,"Date de naissance :"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"p",10)(21,"strong"),e.EFF(22,"Situation Matrimoniale :"),e.k0s(),e.EFF(23),e.k0s()()(),e.j41(24,"div",35)(25,"div",36)(26,"p",10)(27,"strong"),e.EFF(28,"Email :"),e.k0s(),e.EFF(29),e.k0s()(),e.j41(30,"div",36)(31,"p",10)(32,"strong"),e.EFF(33,"T\xe9l\xe9phone :"),e.k0s(),e.EFF(34),e.k0s()()(),e.j41(35,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.togglePersonalInfoInfo())}),e.nrm(36,"i",38),e.EFF(37," Modifier "),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(6),e.SpI(" ",t.member.personalInfo.firstname,""),e.R7$(4),e.SpI(" ",t.member.personalInfo.name,""),e.R7$(4),e.SpI(" ",t.member.personalInfo.nationality,""),e.R7$(5),e.E5c(" ",t.member.personalInfo.birthday[2]," /",t.member.personalInfo.birthday[1],"/",t.member.personalInfo.birthday[0],""),e.R7$(4),e.SpI(" ",t.member.personalInfo.maritalStatus,""),e.R7$(6),e.SpI(" ",t.member.contactInfo.email,""),e.R7$(5),e.SpI(" ",t.member.contactInfo.numberPhone,"")}}function L(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Le nom est requis et doit comporter au moins 2 caract\xe8res. "),e.k0s())}function X(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Le pr\xe9nom est requis et doit comporter au moins 2 caract\xe8res. "),e.k0s())}function B(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," La nationalit\xe9 est requise. "),e.k0s())}function U(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," La date de naissance est requise. "),e.k0s())}function V(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," L'\xe9tat civil est requis. "),e.k0s())}function z(n,s){if(1&n){const t=e.RV6();e.j41(0,"form",39),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onPersonalInfoChangeSave())}),e.j41(1,"div",40)(2,"div",41)(3,"h5",42),e.EFF(4,"Modifier Informations personnelles"),e.k0s()(),e.j41(5,"div",43)(6,"div",44)(7,"div",45)(8,"label",46),e.EFF(9,"Nom"),e.k0s(),e.nrm(10,"input",47),e.DNE(11,L,2,0,"div",48),e.k0s(),e.j41(12,"div",45)(13,"label",49),e.EFF(14,"Pr\xe9nom"),e.k0s(),e.nrm(15,"input",50),e.DNE(16,X,2,0,"div",48),e.k0s()(),e.j41(17,"div",44)(18,"div",45)(19,"label",51),e.EFF(20,"Nationalit\xe9"),e.k0s(),e.nrm(21,"input",52),e.DNE(22,B,2,0,"div",48),e.k0s(),e.j41(23,"div",45)(24,"label",53),e.EFF(25,"Date de naissance"),e.k0s(),e.nrm(26,"input",54),e.DNE(27,U,2,0,"div",48),e.k0s()(),e.j41(28,"div",55)(29,"label",56),e.EFF(30,"Situation Matrimoniale"),e.k0s(),e.j41(31,"select",57)(32,"option",58),e.EFF(33,"S\xe9lectionnez"),e.k0s(),e.j41(34,"option",59),e.EFF(35,"C\xe9libataire"),e.k0s(),e.j41(36,"option",60),e.EFF(37,"Mari\xe9"),e.k0s()(),e.DNE(38,V,2,0,"div",48),e.k0s()()(),e.j41(39,"div",61)(40,"button",62),e.EFF(41,"Enregistrer"),e.k0s(),e.j41(42,"button",63),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.togglePersonalInfoInfo())}),e.EFF(43,"Annuler"),e.k0s()()()}if(2&n){let t,i,o,a,c,u,m,p,b;const d=e.XpG();e.Y8G("formGroup",d.personalInfo),e.R7$(10),e.Y8G("ngClass",e.eq3(12,f,(null==(t=d.personalInfo.get("name"))?null:t.invalid)&&(null==(t=d.personalInfo.get("name"))?null:t.touched))),e.R7$(),e.Y8G("ngIf",(null==(i=d.personalInfo.get("name"))?null:i.invalid)&&(null==(i=d.personalInfo.get("name"))?null:i.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(14,f,(null==(o=d.personalInfo.get("firstname"))?null:o.invalid)&&(null==(o=d.personalInfo.get("firstname"))?null:o.touched))),e.R7$(),e.Y8G("ngIf",(null==(a=d.personalInfo.get("firstname"))?null:a.invalid)&&(null==(a=d.personalInfo.get("firstname"))?null:a.touched)),e.R7$(5),e.Y8G("ngClass",e.eq3(16,f,(null==(c=d.personalInfo.get("nationality"))?null:c.invalid)&&(null==(c=d.personalInfo.get("nationality"))?null:c.touched))),e.R7$(),e.Y8G("ngIf",(null==(u=d.personalInfo.get("nationality"))?null:u.invalid)&&(null==(u=d.personalInfo.get("nationality"))?null:u.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(18,f,(null==(m=d.personalInfo.get("birthday"))?null:m.invalid)&&(null==(m=d.personalInfo.get("birthday"))?null:m.touched)))("max",d.maxDate),e.R7$(),e.Y8G("ngIf",(null==(p=d.personalInfo.get("birthday"))?null:p.invalid)&&(null==(p=d.personalInfo.get("birthday"))?null:p.touched)),e.R7$(11),e.Y8G("ngIf",(null==(b=d.personalInfo.get("maritalStatus"))?null:b.invalid)&&(null==(b=d.personalInfo.get("maritalStatus"))?null:b.touched)),e.R7$(2),e.Y8G("disabled",!d.personalInfo.dirty)}}function w(n,s){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",35)(2,"div",36)(3,"p",10)(4,"strong"),e.EFF(5,"Lyc\xe9e de provenance :"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"p",10)(8,"strong"),e.EFF(9,"Ann\xe9e du Bac :"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"p",10)(12,"strong"),e.EFF(13,"S\xe9rie au Bac :"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"p",10)(16,"strong"),e.EFF(17,"Mention au Bac :"),e.k0s(),e.EFF(18),e.k0s()(),e.j41(19,"div",36)(20,"p",10)(21,"strong"),e.EFF(22,"Cours AEMUD suivis :"),e.k0s(),e.EFF(23),e.k0s(),e.j41(24,"p",10)(25,"strong"),e.EFF(26,"Autres cours :"),e.k0s(),e.EFF(27),e.k0s(),e.j41(28,"p",10)(29,"strong"),e.EFF(30,"Activit\xe9s AEMUD :"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"p",10)(33,"strong"),e.EFF(34,"Organisation politique :"),e.k0s(),e.EFF(35),e.k0s(),e.j41(36,"p",10)(37,"strong"),e.EFF(38,"Bourse :"),e.k0s(),e.EFF(39),e.k0s(),e.j41(40,"p",10)(41,"strong"),e.EFF(42,"Commission :"),e.k0s(),e.EFF(43),e.k0s(),e.j41(44,"p",10)(45,"strong"),e.EFF(46,"Club :"),e.k0s(),e.EFF(47),e.k0s()()(),e.j41(48,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleEditMembershipInfo())}),e.nrm(49,"i",38),e.EFF(50," Modifier "),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(6),e.SpI(" ",t.member.membershipInfo.legacyInstitution,""),e.R7$(4),e.SpI(" ",t.member.membershipInfo.yearOfBac,""),e.R7$(4),e.SpI(" ",t.member.membershipInfo.bacSeries,""),e.R7$(4),e.SpI(" ",t.member.membershipInfo.bacMention,""),e.R7$(5),e.SpI(" ",t.member.membershipInfo.aemudCourses,""),e.R7$(4),e.SpI(" ",t.member.membershipInfo.otherCourses,""),e.R7$(4),e.SpI(" ",t.member.membershipInfo.participatedActivity,""),e.R7$(4),e.SpI(" ",t.member.membershipInfo.politicOrganisation," "),e.R7$(4),e.SpI(" ",t.member.bourse.lebelle||"N/A",""),e.R7$(4),e.SpI(" ",(null==t.member.commissions||null==t.member.commissions[0]?null:t.member.commissions[0].name)||"N/A",""),e.R7$(4),e.SpI(" ",(null==t.member.clubs||null==t.member.clubs[0]?null:t.member.clubs[0].name)||"N/A","")}}function K(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," L'ann\xe9e d'obtention du bac est requise. "),e.k0s())}function W(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Veuillez s\xe9lectionner une s\xe9rie valide pour votre BAC. "),e.k0s())}function J(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Veuillez s\xe9lectionner une mention valide pour votre BAC. "),e.k0s())}function H(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," L'Etablissement d'origine est obligatoire "),e.k0s())}function Z(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Les cours AEMUD sont requis. "),e.k0s())}function Q(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Les autres cours sont requis. "),e.k0s())}function ee(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," L'activit\xe9 est requise. "),e.k0s())}function te(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," L'organisation politique est requise. "),e.k0s())}function ne(n,s){if(1&n&&(e.j41(0,"option",102),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.FS9("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function ie(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," La commission est requise. "),e.k0s())}function oe(n,s){if(1&n&&(e.j41(0,"option",102),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.FS9("value",t.id),e.R7$(),e.JRh(t.name)}}function re(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Le club est requis. "),e.k0s())}function se(n,s){if(1&n&&(e.j41(0,"option",102),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.FS9("value",t.bourseId),e.R7$(),e.JRh(t.lebelle)}}function le(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," La bourse est requise. "),e.k0s())}function ae(n,s){if(1&n){const t=e.RV6();e.j41(0,"form",39),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onMembershipInfoSave())}),e.j41(1,"div",40)(2,"div",41)(3,"h5",42),e.EFF(4,"Modifier Informations d'Adh\xe9sion"),e.k0s()(),e.j41(5,"div",43)(6,"div",44)(7,"div",45)(8,"label",65),e.EFF(9,"Ann\xe9e de bac"),e.k0s(),e.nrm(10,"input",66),e.DNE(11,K,2,0,"div",48),e.k0s(),e.j41(12,"div",45)(13,"label",67),e.EFF(14,"BAC: S\xe9rie"),e.k0s(),e.j41(15,"select",68)(16,"option",69),e.EFF(17,"-- S\xe9lectionnez votre s\xe9rie --"),e.k0s(),e.j41(18,"option",70),e.EFF(19,"S\xe9rie S1"),e.k0s(),e.j41(20,"option",71),e.EFF(21,"S\xe9rie S2"),e.k0s(),e.j41(22,"option",72),e.EFF(23,"S\xe9rie S3"),e.k0s(),e.j41(24,"option",73),e.EFF(25,"S\xe9rie L'1"),e.k0s(),e.j41(26,"option",74),e.EFF(27,"S\xe9rie L2"),e.k0s(),e.j41(28,"option",75),e.EFF(29,"Technique"),e.k0s(),e.j41(30,"option",76),e.EFF(31,"S\xe9rie G"),e.k0s()(),e.DNE(32,W,2,0,"div",48),e.k0s()(),e.j41(33,"div",44)(34,"div",45)(35,"label",77),e.EFF(36,"BAC: Mention"),e.k0s(),e.j41(37,"select",78)(38,"option",69),e.EFF(39,"-- S\xe9lectionnez votre mention --"),e.k0s(),e.j41(40,"option",79),e.EFF(41,"Tr\xe8s Bien"),e.k0s(),e.j41(42,"option",80),e.EFF(43,"Bien"),e.k0s(),e.j41(44,"option",81),e.EFF(45,"Assez Bien"),e.k0s(),e.j41(46,"option",82),e.EFF(47,"Passable"),e.k0s(),e.j41(48,"option",83),e.EFF(49,"Sans Mention"),e.k0s()(),e.DNE(50,J,2,0,"div",48),e.k0s(),e.j41(51,"div",45)(52,"label",84),e.EFF(53,"Etablissement d'origine"),e.k0s(),e.nrm(54,"input",85),e.DNE(55,H,2,0,"div",48),e.k0s()(),e.j41(56,"div",44)(57,"div",45)(58,"label",86),e.EFF(59,"Cours AEMUD"),e.k0s(),e.nrm(60,"input",87),e.DNE(61,Z,2,0,"div",48),e.k0s(),e.j41(62,"div",45)(63,"label",88),e.EFF(64,"Autres cours suivis"),e.k0s(),e.nrm(65,"input",89),e.DNE(66,Q,2,0,"div",48),e.k0s()(),e.j41(67,"div",44)(68,"div",45)(69,"label",90),e.EFF(70,"Activit\xe9 Particip\xe9e"),e.k0s(),e.nrm(71,"input",91),e.DNE(72,ee,2,0,"div",48),e.k0s(),e.j41(73,"div",45)(74,"label",92),e.EFF(75,"Organisation Politique"),e.k0s(),e.nrm(76,"input",93),e.DNE(77,te,2,0,"div",48),e.k0s()(),e.j41(78,"div",44)(79,"div",94)(80,"label",95),e.EFF(81,"Commission"),e.k0s(),e.j41(82,"select",96)(83,"option",69),e.EFF(84,"S\xe9lectionnez une commission"),e.k0s(),e.DNE(85,ne,2,2,"option",97),e.k0s(),e.DNE(86,ie,2,0,"div",48),e.k0s(),e.j41(87,"div",94)(88,"label",98),e.EFF(89,"Club"),e.k0s(),e.j41(90,"select",99)(91,"option",69),e.EFF(92,"S\xe9lectionnez un club"),e.k0s(),e.DNE(93,oe,2,2,"option",97),e.k0s(),e.DNE(94,re,2,0,"div",48),e.k0s(),e.j41(95,"div",94)(96,"label",100),e.EFF(97,"Bourse"),e.k0s(),e.j41(98,"select",101)(99,"option",69),e.EFF(100,"S\xe9lectionnez une bourse"),e.k0s(),e.DNE(101,se,2,2,"option",97),e.k0s(),e.DNE(102,le,2,0,"div",48),e.k0s()()()(),e.j41(103,"div",61)(104,"button",62),e.EFF(105,"Enregistrer"),e.k0s(),e.j41(106,"button",63),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleEditMembershipInfo())}),e.EFF(107,"Annuler"),e.k0s()()()}if(2&n){let t,i,o,a,c,u,m,p,b,d,g,h,v,E,F,I,k,C,j,R,D,y;const l=e.XpG();e.Y8G("formGroup",l.membershipInfo),e.R7$(10),e.Y8G("ngClass",e.eq3(27,f,(null==(t=l.membershipInfo.get("yearOfBac"))?null:t.invalid)&&(null==(t=l.membershipInfo.get("yearOfBac"))?null:t.touched))),e.R7$(),e.Y8G("ngIf",(null==(i=l.membershipInfo.get("yearOfBac"))?null:i.invalid)&&(null==(i=l.membershipInfo.get("yearOfBac"))?null:i.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(29,f,(null==(o=l.membershipInfo.get("bacSeries"))?null:o.invalid)&&(null==(o=l.membershipInfo.get("bacSeries"))?null:o.touched))),e.R7$(17),e.Y8G("ngIf",(null==(a=l.membershipInfo.get("bacSeries"))?null:a.invalid)&&(null==(a=l.membershipInfo.get("bacSeries"))?null:a.touched)),e.R7$(5),e.Y8G("ngClass",e.eq3(31,f,(null==(c=l.membershipInfo.get("bacMention"))?null:c.invalid)&&(null==(c=l.membershipInfo.get("bacMention"))?null:c.touched))),e.R7$(13),e.Y8G("ngIf",(null==(u=l.membershipInfo.get("bacMention"))?null:u.invalid)&&(null==(u=l.membershipInfo.get("bacMention"))?null:u.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(33,f,(null==(m=l.membershipInfo.get("legacyInstitution"))?null:m.invalid)&&(null==(m=l.membershipInfo.get("legacyInstitution"))?null:m.touched))),e.R7$(),e.Y8G("ngIf",(null==(p=l.membershipInfo.get("legacyInstitution"))?null:p.invalid)&&(null==(p=l.membershipInfo.get("legacyInstitution"))?null:p.touched)),e.R7$(5),e.Y8G("ngClass",e.eq3(35,f,(null==(b=l.membershipInfo.get("aemudCourses"))?null:b.invalid)&&(null==(b=l.membershipInfo.get("aemudCourses"))?null:b.touched))),e.R7$(),e.Y8G("ngIf",(null==(d=l.membershipInfo.get("aemudCourses"))?null:d.invalid)&&(null==(d=l.membershipInfo.get("aemudCourses"))?null:d.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(37,f,(null==(g=l.membershipInfo.get("otherCourses"))?null:g.invalid)&&(null==(g=l.membershipInfo.get("otherCourses"))?null:g.touched))),e.R7$(),e.Y8G("ngIf",(null==(h=l.membershipInfo.get("otherCourses"))?null:h.invalid)&&(null==(h=l.membershipInfo.get("otherCourses"))?null:h.touched)),e.R7$(5),e.Y8G("ngClass",e.eq3(39,f,(null==(v=l.membershipInfo.get("participatedActivity"))?null:v.invalid)&&(null==(v=l.membershipInfo.get("participatedActivity"))?null:v.touched))),e.R7$(),e.Y8G("ngIf",(null==(E=l.membershipInfo.get("participatedActivity"))?null:E.invalid)&&(null==(E=l.membershipInfo.get("participatedActivity"))?null:E.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(41,f,(null==(F=l.membershipInfo.get("politicOrganisation"))?null:F.invalid)&&(null==(F=l.membershipInfo.get("politicOrganisation"))?null:F.touched))),e.R7$(),e.Y8G("ngIf",(null==(I=l.membershipInfo.get("politicOrganisation"))?null:I.invalid)&&(null==(I=l.membershipInfo.get("politicOrganisation"))?null:I.touched)),e.R7$(5),e.Y8G("ngClass",e.eq3(43,f,(null==(k=l.membershipInfo.get("commission"))?null:k.invalid)&&(null==(k=l.membershipInfo.get("commission"))?null:k.touched))),e.R7$(3),e.Y8G("ngForOf",l.commissions),e.R7$(),e.Y8G("ngIf",(null==(C=l.membershipInfo.get("commission"))?null:C.invalid)&&(null==(C=l.membershipInfo.get("commission"))?null:C.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(45,f,(null==(j=l.membershipInfo.get("clubs"))?null:j.invalid)&&(null==(j=l.membershipInfo.get("clubs"))?null:j.touched))),e.R7$(3),e.Y8G("ngForOf",l.clubs),e.R7$(),e.Y8G("ngIf",(null==(R=l.membershipInfo.get("clubs"))?null:R.invalid)&&(null==(R=l.membershipInfo.get("clubs"))?null:R.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(47,f,(null==(D=l.membershipInfo.get("bourse"))?null:D.invalid)&&(null==(D=l.membershipInfo.get("bourse"))?null:D.touched))),e.R7$(3),e.Y8G("ngForOf",l.bourses),e.R7$(),e.Y8G("ngIf",(null==(y=l.membershipInfo.get("bourse"))?null:y.invalid)&&(null==(y=l.membershipInfo.get("bourse"))?null:y.touched)),e.R7$(2),e.Y8G("disabled",!l.membershipInfo.dirty)}}function me(n,s){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",35)(2,"div",36)(3,"p",10)(4,"strong"),e.EFF(5,"Universit\xe9/Institut :"),e.k0s(),e.EFF(6),e.k0s()(),e.j41(7,"div",36)(8,"p",10)(9,"strong"),e.EFF(10,"Domaine d'\xe9tudes :"),e.k0s(),e.EFF(11),e.k0s()()(),e.j41(12,"div",35)(13,"div",103)(14,"p",10)(15,"strong"),e.EFF(16,"Niveau d'\xe9tude :"),e.k0s(),e.EFF(17),e.k0s()()(),e.j41(18,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleEditingAcademicInfo())}),e.nrm(19,"i",38),e.EFF(20," Modifier "),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(6),e.SpI(" ",t.member.academicInfo.institutionName,""),e.R7$(5),e.SpI(" ",t.member.academicInfo.studiesDomain,""),e.R7$(6),e.SpI(" ",t.member.academicInfo.studiesLevel,"")}}function ue(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Le nom de l'universit\xe9 est requis et doit comporter au moins 3 caract\xe8res. "),e.k0s())}function ce(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Le domaine d'\xe9tudes est requis et doit comporter au moins 3 caract\xe8res. "),e.k0s())}function de(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Le niveau d'\xe9tude est requis. "),e.k0s())}function pe(n,s){if(1&n){const t=e.RV6();e.j41(0,"form",39),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onAcademyInfoSaved())}),e.j41(1,"div",104)(2,"div",41)(3,"h5",42),e.EFF(4,"Modifier Informations Acad\xe9miques"),e.k0s()(),e.j41(5,"div",43)(6,"div",44)(7,"div",45)(8,"label",105),e.EFF(9,"Universit\xe9"),e.k0s(),e.nrm(10,"input",106),e.DNE(11,ue,2,0,"div",48),e.k0s(),e.j41(12,"div",45)(13,"label",107),e.EFF(14,"Domaine d'\xe9tudes"),e.k0s(),e.nrm(15,"input",108),e.DNE(16,ce,2,0,"div",48),e.k0s()(),e.j41(17,"div",55)(18,"label",109),e.EFF(19,"Niveau d'\xe9tude"),e.k0s(),e.nrm(20,"input",110),e.DNE(21,de,2,0,"div",48),e.k0s()()(),e.j41(22,"div",61)(23,"button",62),e.EFF(24,"Enregistrer"),e.k0s(),e.j41(25,"button",63),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleEditingAcademicInfo())}),e.EFF(26,"Annuler"),e.k0s()()()}if(2&n){let t,i,o,a,c,u;const m=e.XpG();e.Y8G("formGroup",m.academicInfo),e.R7$(10),e.Y8G("ngClass",e.eq3(8,f,(null==(t=m.academicInfo.get("institutionName"))?null:t.invalid)&&(null==(t=m.academicInfo.get("institutionName"))?null:t.touched))),e.R7$(),e.Y8G("ngIf",(null==(i=m.academicInfo.get("institutionName"))?null:i.invalid)&&(null==(i=m.academicInfo.get("institutionName"))?null:i.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(10,f,(null==(o=m.academicInfo.get("studiesDomain"))?null:o.invalid)&&(null==(o=m.academicInfo.get("studiesDomain"))?null:o.touched))),e.R7$(),e.Y8G("ngIf",(null==(a=m.academicInfo.get("studiesDomain"))?null:a.invalid)&&(null==(a=m.academicInfo.get("studiesDomain"))?null:a.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(12,f,(null==(c=m.academicInfo.get("studiesLevel"))?null:c.invalid)&&(null==(c=m.academicInfo.get("studiesLevel"))?null:c.touched))),e.R7$(),e.Y8G("ngIf",(null==(u=m.academicInfo.get("studiesLevel"))?null:u.invalid)&&(null==(u=m.academicInfo.get("studiesLevel"))?null:u.touched)),e.R7$(2),e.Y8G("disabled",!m.academicInfo.dirty)}}function fe(n,s){if(1&n&&(e.j41(0,"div",114)(1,"h6",115),e.EFF(2),e.k0s(),e.j41(3,"p",10)(4,"strong"),e.EFF(5,"Relation :"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"p",10)(8,"strong"),e.EFF(9,"Nom complet :"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"p",10)(12,"strong"),e.EFF(13,"T\xe9l\xe9phone principal :"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"p",10)(16,"strong"),e.EFF(17,"T\xe9l\xe9phone secondaire :"),e.k0s(),e.EFF(18),e.k0s()()),2&n){const t=s.$implicit,i=s.index;e.R7$(2),e.SpI("Contact d'Urgence #",i+1,""),e.R7$(4),e.SpI(" ",t.relationship,""),e.R7$(4),e.Lme(" ",t.firstname," ",t.lastname,""),e.R7$(4),e.SpI(" ",t.requiredNumberPhone,""),e.R7$(4),e.SpI(" ",t.optionalNumberPhone,"")}}function be(n,s){if(1&n&&(e.j41(0,"div"),e.DNE(1,fe,19,6,"div",113),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.member.contactInfo.personToCalls)}}function _e(n,s){1&n&&(e.j41(0,"div",116),e.EFF(1," Aucun contact d'urgence d\xe9fini. "),e.k0s())}function ge(n,s){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",111)(2,"h5",112),e.EFF(3,"Informations de Contact du Membre"),e.k0s(),e.j41(4,"p",10)(5,"strong"),e.EFF(6,"Email :"),e.k0s(),e.EFF(7),e.k0s(),e.j41(8,"p",10)(9,"strong"),e.EFF(10,"T\xe9l\xe9phone :"),e.k0s(),e.EFF(11),e.k0s()(),e.j41(12,"h5",112),e.EFF(13,"Personnes \xe0 Contacter en Urgence"),e.k0s(),e.DNE(14,be,2,1,"div",22)(15,_e,2,0,"ng-template",null,5,e.C5r),e.j41(17,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleEditingContactInfo())}),e.nrm(18,"i",38),e.EFF(19," Modifier "),e.k0s()()}if(2&n){const t=e.sdS(16),i=e.XpG();e.R7$(7),e.SpI(" ",i.member.contactInfo.email,""),e.R7$(4),e.SpI(" ",i.member.contactInfo.numberPhone,""),e.R7$(3),e.Y8G("ngIf",i.member.contactInfo.personToCalls&&i.member.contactInfo.personToCalls.length>0)("ngIfElse",t)}}function he(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Num\xe9ro de t\xe9l\xe9phone invalide. Format requis : 9 chiffres. "),e.k0s())}function ve(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Adresse email invalide. "),e.k0s())}function Ee(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Nom requis. "),e.k0s())}function Fe(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Pr\xe9nom requis. "),e.k0s())}function Ie(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," T\xe9l\xe9phone principal invalide. Format requis : 9 chiffres. "),e.k0s())}function ke(n,s){1&n&&e.nrm(0,"hr",139)}function Ce(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",128)(1,"h6",129),e.EFF(2),e.k0s(),e.j41(3,"div",44)(4,"div",45)(5,"label",130),e.EFF(6,"Nom"),e.k0s(),e.nrm(7,"input",131),e.DNE(8,Ee,2,0,"div",48),e.k0s(),e.j41(9,"div",45)(10,"label",130),e.EFF(11,"Pr\xe9nom"),e.k0s(),e.nrm(12,"input",132),e.DNE(13,Fe,2,0,"div",48),e.k0s()(),e.j41(14,"div",44)(15,"div",45)(16,"label",130),e.EFF(17,"T\xe9l\xe9phone Principal"),e.k0s(),e.j41(18,"div",119)(19,"span",120),e.EFF(20,"+221"),e.k0s(),e.nrm(21,"input",133),e.k0s(),e.DNE(22,Ie,2,0,"div",48),e.k0s(),e.j41(23,"div",45)(24,"label",130),e.EFF(25,"T\xe9l\xe9phone Secondaire"),e.k0s(),e.j41(26,"div",119)(27,"span",120),e.EFF(28,"+221"),e.k0s(),e.nrm(29,"input",134),e.k0s()()(),e.j41(30,"div",55)(31,"label",130),e.EFF(32,"Relation"),e.k0s(),e.nrm(33,"input",135),e.k0s(),e.j41(34,"div",136)(35,"button",137),e.bIt("click",function(){const o=e.eBV(t).index,a=e.XpG(3);return e.Njj(a.removePersonToCall(o))}),e.EFF(36," Supprimer ce contact "),e.k0s()(),e.DNE(37,ke,1,0,"hr",138),e.k0s()}if(2&n){let t,i,o,a,c,u;const m=s.$implicit,p=s.index,b=e.XpG(3);e.Y8G("formGroupName",p),e.R7$(2),e.SpI("Contact #",p+1,""),e.R7$(3),e.Mz_("for","lastname",p,""),e.R7$(2),e.Mz_("id","lastname",p,""),e.Y8G("ngClass",e.eq3(30,f,(null==(t=m.get("lastname"))?null:t.invalid)&&(null==(t=m.get("lastname"))?null:t.touched))),e.R7$(),e.Y8G("ngIf",(null==(i=m.get("lastname"))?null:i.invalid)&&(null==(i=m.get("lastname"))?null:i.touched)),e.R7$(2),e.Mz_("for","firstname",p,""),e.R7$(2),e.Mz_("id","firstname",p,""),e.Y8G("ngClass",e.eq3(32,f,(null==(o=m.get("firstname"))?null:o.invalid)&&(null==(o=m.get("firstname"))?null:o.touched))),e.R7$(),e.Y8G("ngIf",(null==(a=m.get("firstname"))?null:a.invalid)&&(null==(a=m.get("firstname"))?null:a.touched)),e.R7$(3),e.Mz_("for","requiredNumberPhone",p,""),e.R7$(5),e.Mz_("id","requiredNumberPhone",p,""),e.Y8G("ngClass",e.eq3(34,f,(null==(c=m.get("requiredNumberPhone"))?null:c.invalid)&&(null==(c=m.get("requiredNumberPhone"))?null:c.touched))),e.R7$(),e.Y8G("ngIf",(null==(u=m.get("requiredNumberPhone"))?null:u.invalid)&&(null==(u=m.get("requiredNumberPhone"))?null:u.touched)),e.R7$(2),e.Mz_("for","optionalNumberPhone",p,""),e.R7$(5),e.Mz_("id","optionalNumberPhone",p,""),e.R7$(2),e.Mz_("for","relationship",p,""),e.R7$(2),e.Mz_("id","relationship",p,""),e.R7$(2),e.Y8G("disabled",1===b.personToCalls.length),e.R7$(2),e.Y8G("ngIf",p<b.personToCalls.controls.length-1)}}function je(n,s){if(1&n&&(e.j41(0,"div")(1,"div",126),e.DNE(2,Ce,38,36,"div",127),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.personToCalls.controls)}}function Re(n,s){1&n&&(e.j41(0,"div",140),e.EFF(1," Veuillez ajouter un contact d'urgence. "),e.k0s())}function De(n,s){if(1&n){const t=e.RV6();e.j41(0,"form",117),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onContactInfoSaved())}),e.j41(1,"div",40)(2,"div",41)(3,"h5",42),e.EFF(4,"Modifier Contact du Membre"),e.k0s()(),e.j41(5,"div",43)(6,"div",44)(7,"div",45)(8,"label",118),e.EFF(9,"Num\xe9ro de T\xe9l\xe9phone"),e.k0s(),e.j41(10,"div",119)(11,"span",120),e.EFF(12,"+221"),e.k0s(),e.nrm(13,"input",121),e.k0s(),e.DNE(14,he,2,0,"div",48),e.k0s(),e.j41(15,"div",45)(16,"label",122),e.EFF(17,"Adresse Email"),e.k0s(),e.nrm(18,"input",123),e.DNE(19,ve,2,0,"div",48),e.k0s()()()(),e.j41(20,"div",40)(21,"div",41)(22,"h5",42),e.EFF(23,"Modifier Personnes \xe0 Contacter en Urgence"),e.k0s()(),e.j41(24,"div",43),e.DNE(25,je,3,1,"div",22)(26,Re,2,0,"ng-template",null,6,e.C5r),e.j41(28,"button",124),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addPersonToCall())}),e.nrm(29,"i",125),e.EFF(30," Ajouter un contact d'urgence "),e.k0s()()(),e.j41(31,"div",61)(32,"button",62),e.EFF(33,"Enregistrer"),e.k0s(),e.j41(34,"button",63),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleEditingContactInfo())}),e.EFF(35,"Annuler"),e.k0s()()()}if(2&n){let t,i,o,a;const c=e.sdS(27),u=e.XpG();e.Y8G("formGroup",u.contactInfo),e.R7$(13),e.Y8G("ngClass",e.eq3(9,f,(null==(t=u.contactInfo.get("numberPhone"))?null:t.invalid)&&(null==(t=u.contactInfo.get("numberPhone"))?null:t.touched))),e.R7$(),e.Y8G("ngIf",(null==(i=u.contactInfo.get("numberPhone"))?null:i.invalid)&&(null==(i=u.contactInfo.get("numberPhone"))?null:i.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(11,f,(null==(o=u.contactInfo.get("email"))?null:o.invalid)&&(null==(o=u.contactInfo.get("email"))?null:o.touched))),e.R7$(),e.Y8G("ngIf",(null==(a=u.contactInfo.get("email"))?null:a.invalid)&&(null==(a=u.contactInfo.get("email"))?null:a.touched)),e.R7$(6),e.Y8G("ngIf",u.personToCalls.controls.length>0)("ngIfElse",c),e.R7$(3),e.Y8G("disabled",u.personToCalls.length>=2),e.R7$(4),e.Y8G("disabled",!u.contactInfo.dirty)}}function ye(n,s){if(1&n&&(e.j41(0,"div",142)(1,"div",143)(2,"h5",144),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"div",36)(7,"p",10)(8,"strong"),e.EFF(9,"Type d'inscription :"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"p",10)(12,"strong"),e.EFF(13,"Statut de l'inscription :"),e.k0s(),e.j41(14,"span",145),e.EFF(15),e.k0s()()(),e.j41(16,"div",36)(17,"p",10)(18,"strong"),e.EFF(19,"Date d'inscription :"),e.k0s(),e.EFF(20),e.k0s(),e.j41(21,"p",10)(22,"strong"),e.EFF(23,"Statut de paiement :"),e.k0s(),e.j41(24,"span",146),e.EFF(25),e.k0s()()()()()()),2&n){const t=s.$implicit,i=s.index;e.R7$(3),e.Lme("Inscription #",i+1," - Session ",t.session,""),e.R7$(7),e.SpI(" ",t.registrationType,""),e.R7$(5),e.JRh(t.registrationStatus),e.R7$(5),e.E5c(" ",t.dateInscription[2],"/",t.dateInscription[1],"/",t.dateInscription[0]," "),e.R7$(4),e.Y8G("ngClass",e.l_i(9,Y,t.statusPayment,!t.statusPayment)),e.R7$(),e.SpI(" ",t.statusPayment?"Pay\xe9":"Non pay\xe9"," ")}}function Me(n,s){if(1&n&&(e.j41(0,"div"),e.DNE(1,ye,26,12,"div",141),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.member.registration)}}function Se(n,s){1&n&&(e.j41(0,"div",147),e.EFF(1," Aucune information d'inscription disponible pour ce membre. "),e.k0s())}function Ne(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",148),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleReenrollmentForm())}),e.nrm(1,"i",149),e.EFF(2," Lancer une r\xe9inscription "),e.k0s()}}function Te(n,s){if(1&n&&(e.j41(0,"option",102),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.session)}}function $e(n,s){1&n&&(e.j41(0,"div",64),e.EFF(1," Veuillez s\xe9lectionner une session. "),e.k0s())}function Ge(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",150)(1,"form",39),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onReEnrollSubmit())}),e.j41(2,"div",151)(3,"div",152)(4,"div",153)(5,"label",154),e.EFF(6,"Session de R\xe9inscription"),e.k0s(),e.j41(7,"select",155)(8,"option",156),e.EFF(9,"S\xe9lectionner une session"),e.k0s(),e.DNE(10,Te,2,2,"option",97),e.k0s(),e.DNE(11,$e,2,0,"div",48),e.k0s()(),e.j41(12,"div",152)(13,"div",153)(14,"label",157),e.EFF(15,"Statut du Paiement"),e.k0s(),e.j41(16,"div",158),e.nrm(17,"input",159),e.j41(18,"label",160),e.EFF(19,"Pay\xe9"),e.k0s()()()(),e.j41(20,"div",152)(21,"label",161),e.EFF(22,"Type D'Inscription"),e.k0s(),e.j41(23,"select",162)(24,"option",69),e.EFF(25,"S\xe9lectionnez"),e.k0s(),e.j41(26,"option",163),e.EFF(27,"Initiale"),e.k0s(),e.j41(28,"option",164),e.EFF(29,"Reinscription"),e.k0s()()()(),e.j41(30,"div",165)(31,"button",62),e.nrm(32,"i",166),e.EFF(33," Enregistrer la r\xe9inscription "),e.k0s(),e.j41(34,"button",63),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cancelReenrollment())}),e.EFF(35," Annuler "),e.k0s()()()()}if(2&n){let t,i,o;const a=e.XpG();e.R7$(),e.Y8G("formGroup",a.reinscriptionForm),e.R7$(6),e.Y8G("ngClass",e.eq3(6,f,(null==(t=a.reinscriptionForm.get("session"))?null:t.invalid)&&(null==(t=a.reinscriptionForm.get("session"))?null:t.touched))),e.R7$(3),e.Y8G("ngForOf",a.availableSessions),e.R7$(),e.Y8G("ngIf",(null==(i=a.reinscriptionForm.get("session"))?null:i.invalid)&&(null==(i=a.reinscriptionForm.get("session"))?null:i.touched)),e.R7$(12),e.Y8G("ngClass",e.eq3(8,f,(null==(o=a.personalInfo.get("registrationType"))?null:o.invalid)&&(null==(o=a.personalInfo.get("registrationType"))?null:o.touched))),e.R7$(8),e.Y8G("disabled",a.reinscriptionForm.invalid)}}let xe=(()=>{class n{constructor(t,i,o,a,c,u,m,p,b,d,g){this.router=t,this.memberService=i,this.titleService=o,this.toasterService=a,this.routeService=c,this.fb=u,this.commissionService=m,this.clubService=p,this.bourseService=b,this.toaster=d,this.sessionService=g,this.memberID="",this.showReenrollmentForm=!1,this.availableSessions=[],this.member={id:"",personalInfo:{name:"",firstname:"",nationality:"",gender:"",birthday:[0,0,0],maritalStatus:""},membershipInfo:{legacyInstitution:"",bacSeries:"",bacMention:"",yearOfBac:"",aemudCourses:"",otherCourses:"",participatedActivity:"",politicOrganisation:""},academicInfo:{institutionName:"",studiesDomain:"",studiesLevel:""},addressInfo:{addressInDakar:"",holidayAddress:"",addressToCampus:""},contactInfo:{numberPhone:"",email:"",personToCalls:[{lastname:"",firstname:"",requiredNumberPhone:"",optionalNumberPhone:"",relationship:""}]},bourse:{bourseId:"",lebelle:"",montant:0},clubs:[{id:"",name:""}],commissions:[{id:"",name:""}],registration:[]},this.isEditingMembershipInfo=!1,this.isEditingAcademicInfo=!1,this.isEditingContactInfo=!1,this.isPersonalInfoEditing=!1}ngOnInit(){const t=new Date,i=new Date(t.getFullYear()-10,t.getMonth(),t.getDate());this.maxDate=i.toISOString().split("T")[0],this.memberID=this.router.snapshot.paramMap.get("member-id"),this.loadMemberDetails(),this.loadAdditionalData(),this.loadSessionsForReenrollment()}loadMemberDetails(){this.memberID&&this.memberService.getMemberById(this.memberID).subscribe({next:t=>{"OK"===t.status&&(this.member=t.data,this.initTitle(this.member),this.initMemberForm(this.member),this.initReenrollmentForm())},error:t=>{this.toaster.error("Une erreur s'est produite lors de la r\xe9cup\xe9ration des donn\xe9es du membre."),console.error(t)}})}loadAdditionalData(){this.commissionService.getCommissions().subscribe({next:t=>{"OK"===t.status&&"Succeeded"===t.result?this.commissions=t.data:this.toaster.error("Une erreur inattendue s'est produite c\xf4t\xe9 serveur (commissions).")},error:t=>{this.toaster.error("Une erreur s'est produite lors de la r\xe9cup\xe9ration des commissions."),console.error(t)}}),this.clubService.getClubs().subscribe({next:t=>{"OK"===t.status&&"Succeeded"===t.result?this.clubs=t.data:this.toaster.error("Une erreur inattendue s'est produite c\xf4t\xe9 serveur (clubs).")},error:t=>{this.toaster.error("Une erreur s'est produite lors de la r\xe9cup\xe9ration des clubs."),console.error(t)}}),this.bourseService.getAllBourse().subscribe({next:t=>{"OK"===t.status&&"Succeeded"===t.result&&(this.bourses=t.data)},error:t=>{this.toaster.error("Une erreur s'est produite c\xf4t\xe9 serveur (bourses)."),console.error(t)}})}loadSessionsForReenrollment(){this.sessionService.getYears().subscribe({next:t=>{"Succeeded"===t.result&&t.data&&(this.availableSessions=t.data)},error:t=>{this.toaster.error("Erreur lors du chargement des sessions disponibles."),console.error(t)}}),this.sessionService.getCurrentYear().subscribe({next:t=>{"Succeeded"===t.result&&t.data&&(this.currentSession=t.data,this.reinscriptionForm.get("session")?.setValue(this.currentSession.id))},error:t=>{this.toaster.error("Erreur lors du chargement de la session actuelle pour r\xe9inscription."),console.error(t)}})}initTitle(t){this.titleService.setTitle(t?.personalInfo?`${t.personalInfo.name} ${t.personalInfo.firstname}`:"Membre non trouv\xe9")}deleteProfile(){confirm("\xcates-vous s\xfbr de vouloir supprimer ce profil ? Cette action est irr\xe9versible.")&&this.memberService.deleteMember(this.memberID).subscribe({next:t=>{this.toasterService.success("Profil supprim\xe9 avec succ\xe8s."),this.routeService.navigateByUrl("/members/member/list-members")},error:t=>{this.toasterService.error("Une erreur s'est produite lors de la suppression du profil."),console.error(t)}})}get membershipInfo(){return this.membershipInfoGroup}get academicInfo(){return this.academicInfoGroup}get contactInfo(){return this.contactGroup}get personalInfo(){return this.personalInfoGroup}get personToCalls(){return this.personToCallsArray}toggleEditMembershipInfo(){this.isEditingMembershipInfo=!this.isEditingMembershipInfo}toggleEditingAcademicInfo(){this.isEditingAcademicInfo=!this.isEditingAcademicInfo}toggleEditingContactInfo(){this.isEditingContactInfo=!this.isEditingContactInfo}togglePersonalInfoInfo(){this.isPersonalInfoEditing=!this.isPersonalInfoEditing}initMemberForm(t){this.memberForm=this.fb.group({personalInfo:this.fb.group({id:[t.id],name:[t.personalInfo?.name||"",[r.k0.required,r.k0.minLength(2)]],firstname:[t.personalInfo?.firstname||"",[r.k0.required,r.k0.minLength(2)]],nationality:[t.personalInfo?.nationality||"",[r.k0.required,r.k0.minLength(2)]],birthday:[this.formatDateForInput(t.personalInfo?.birthday),[r.k0.required]],maritalStatus:[t.personalInfo?.maritalStatus||"",[r.k0.required]]}),membershipInfo:this.fb.group({yearOfBac:[t.membershipInfo?.yearOfBac||"",[r.k0.required,r.k0.minLength(3)]],bacSeries:[t.membershipInfo?.bacSeries||"",[r.k0.required,r.k0.minLength(2)]],bacMention:[t.membershipInfo?.bacMention||"",[r.k0.required,r.k0.minLength(3)]],legacyInstitution:[t.membershipInfo?.legacyInstitution||"",[r.k0.required,r.k0.minLength(3)]],aemudCourses:[t.membershipInfo?.aemudCourses||"",[r.k0.required]],otherCourses:[t.membershipInfo?.otherCourses||"",[r.k0.required,r.k0.minLength(5)]],participatedActivity:[t.membershipInfo?.participatedActivity||"",[r.k0.required]],politicOrganisation:[t.membershipInfo?.politicOrganisation||"",[r.k0.required]],bourse:[t.bourse?.bourseId||null,r.k0.required],commission:[t.commissions?.[0]?.id||null,r.k0.required],clubs:[t.clubs?.[0]?.id||null,r.k0.required]}),academicInfo:this.fb.group({studiesLevel:[t.academicInfo?.studiesLevel||"",[r.k0.required,r.k0.minLength(3)]],institutionName:[t.academicInfo?.institutionName||"",[r.k0.required,r.k0.minLength(3)]],studiesDomain:[t.academicInfo?.studiesDomain||"",[r.k0.required,r.k0.minLength(3)]]}),addressInfo:this.fb.group({addressInDakar:[t.addressInfo?.addressInDakar||"",[r.k0.required,r.k0.minLength(3)]],holidayAddress:[t.addressInfo?.holidayAddress||"",[r.k0.required,r.k0.minLength(3)]],addressToCampus:[t.addressInfo?.addressToCampus||"",[r.k0.required,r.k0.minLength(3)]]}),contactInfo:this.fb.group({numberPhone:[t.contactInfo?.numberPhone?.replace("+221","")||"",[r.k0.required,r.k0.pattern(/^\d{9}$/)]],email:[t.contactInfo?.email||"",[r.k0.required,r.k0.email]],personToCalls:this.fb.array([])})}),this.membershipInfoGroup=this.memberForm.get("membershipInfo"),this.academicInfoGroup=this.memberForm.get("academicInfo"),this.contactGroup=this.memberForm.get("contactInfo"),this.personToCallsArray=this.contactInfo.get("personToCalls"),this.personalInfoGroup=this.memberForm.get("personalInfo"),t.contactInfo?.personToCalls?.forEach(i=>{this.addPersonToCall(i)})}formatDateForInput(t){if(!t||3!==t.length)return"";const[i,o,a]=t;return`${i}-${o<10?"0"+o:o}-${a<10?"0"+a:a}`}addPersonToCall(t){const i=this.fb.group({lastname:[t?.lastname||"",r.k0.required],firstname:[t?.firstname||"",r.k0.required],requiredNumberPhone:[t?.requiredNumberPhone?.replace("+221","")||"",[r.k0.required,r.k0.pattern(/^\d{9}$/)]],optionalNumberPhone:[t?.optionalNumberPhone?.replace("+221","")||"",r.k0.pattern(/^\d{9}$/)],relationship:[t?.relationship||"",r.k0.required]});this.personToCalls.push(i)}removePersonToCall(t){this.personToCalls.removeAt(t)}onPersonalInfoChangeSave(){if(this.personalInfo.valid&&this.personalInfo.dirty){const t=this.personalInfo.get("birthday")?.value;if(t){const[i,o,a]=t.split("-").map(Number);this.member.personalInfo.birthday=[i,o,a]}this.member.personalInfo={...this.member.personalInfo,...this.personalInfo.value},this.updateMember(this.member),this.togglePersonalInfoInfo()}else this.personalInfo.markAllAsTouched(),this.toaster.warning("Veuillez corriger les erreurs dans les informations personnelles.")}onMembershipInfoSave(){if(this.membershipInfo.valid&&this.membershipInfo.dirty){if(this.member.membershipInfo={...this.member.membershipInfo,...this.membershipInfo.value},this.membershipInfo.get("bourse")?.value){const t=this.bourses.find(i=>i.bourseId===this.membershipInfo.get("bourse")?.value);t&&(this.member.bourse=t)}if(this.membershipInfo.get("commission")?.value){const t=this.commissions.find(i=>i.id===this.membershipInfo.get("commission")?.value);t&&(this.member.commissions=[t])}if(this.membershipInfo.get("clubs")?.value){const t=this.clubs.find(i=>i.id===this.membershipInfo.get("clubs")?.value);t&&(this.member.clubs=[t])}this.updateMember(this.member),this.toggleEditMembershipInfo()}else this.membershipInfo.markAllAsTouched(),this.toaster.warning("Veuillez corriger les erreurs dans les informations d'adh\xe9sion.")}onAcademyInfoSaved(){this.academicInfo.valid&&this.academicInfo.dirty?(this.member.academicInfo={...this.member.academicInfo,...this.academicInfo.value},this.updateMember(this.member),this.toggleEditingAcademicInfo()):(this.academicInfo.markAllAsTouched(),this.toaster.warning("Veuillez corriger les erreurs dans les informations acad\xe9miques."))}onContactInfoSaved(){if(this.contactInfo.valid&&this.contactInfo.dirty){const t=this.contactInfo.value;t.numberPhone&&(t.numberPhone="+221"+t.numberPhone),t.personToCalls&&t.personToCalls.length>0&&(t.personToCalls=t.personToCalls.map(i=>({...i,requiredNumberPhone:i.requiredNumberPhone?"+221"+i.requiredNumberPhone:"",optionalNumberPhone:i.optionalNumberPhone?"+221"+i.optionalNumberPhone:""}))),this.member.contactInfo={...this.member.contactInfo,...t},this.updateMember(this.member),this.toggleEditingContactInfo()}else this.contactInfo.markAllAsTouched(),this.toaster.warning("Veuillez corriger les erreurs dans les informations de contact.")}updateMember(t){this.memberService.updateMember(t).subscribe({next:i=>{this.toaster.success("Modification R\xe9ussie"),this.loadMemberDetails()},error:i=>{this.toaster.error("Une erreur s'est produite lors de la modification."),console.error(i)}})}initReenrollmentForm(){this.reinscriptionForm=this.fb.group({member:[this.member.id,r.k0.required],session:[this.currentSession?.id||null,r.k0.required],registrationType:["REINSCRIPTION",r.k0.required],statusPayment:[!1,r.k0.required],registrationStatus:["VALID",r.k0.required]}),this.currentSession&&this.reinscriptionForm.get("session")?.setValue(this.currentSession.id)}toggleReenrollmentForm(){this.showReenrollmentForm=!this.showReenrollmentForm,this.showReenrollmentForm&&this.reinscriptionForm.reset({member:this.member.id,session:this.currentSession?.id||null,registrationType:"REINSCRIPTION",statusPayment:!1,registrationStatus:"VALID"})}cancelReenrollment(){this.showReenrollmentForm=!1,this.reinscriptionForm.reset()}onReEnrollSubmit(){if(this.reinscriptionForm.markAllAsTouched(),this.reinscriptionForm.valid){const t={member:this.member.id,session:this.reinscriptionForm.get("session")?.value,registrationType:this.reinscriptionForm.get("registrationType")?.value,statusPayment:this.reinscriptionForm.get("statusPayment")?.value,registrationStatus:this.reinscriptionForm.get("registrationStatus")?.value};this.memberService.register(t).subscribe({next:i=>{this.toaster.success("R\xe9inscription enregistr\xe9e avec succ\xe8s !"),this.showReenrollmentForm=!1,this.reinscriptionForm.reset(),this.loadMemberDetails()},error:i=>{i.error&&i.error.error&&i.error.error.code?"MEMBER_ALL_READY_REGISTERED"===i.error.error.code?this.toaster.info("Ce membre est d\xe9j\xe0 r\xe9inscrit pour la session s\xe9lectionn\xe9e."):this.toaster.error("ENTITY_NOT_FOUND"===i.error.error.code?"Erreur: Session introuvable.":"Une erreur inattendue est survenue lors de la r\xe9inscription."):this.toaster.error("Une erreur est survenue lors de la r\xe9inscription."),console.error(i)}})}else this.toaster.warning("Veuillez remplir correctement tous les champs obligatoires du formulaire.")}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(N.nX),e.rXU($.G),e.rXU(G.hE),e.rXU(T.tw),e.rXU(N.Ix),e.rXU(r.ok),e.rXU(x.L),e.rXU(P.y),e.rXU(A.M),e.rXU(T.tw),e.rXU(q.m))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-member-details"]],standalone:!0,features:[e.aNF],decls:58,vars:18,consts:[["editPersonalInfo",""],["editMembershipInfo",""],["editAcademicInfo",""],["editContactInfo",""],["noRegistrations",""],["noEmergencyContacts",""],["addFirstContact",""],[1,"container","my-5"],[1,"card","shadow-sm","border-0","rounded","mb-4"],[1,"card-body","d-flex","align-items-center"],[1,"mb-1"],[1,"text-muted","mb-0"],[1,"text-muted"],["id","profileTabs","role","tablist",1,"nav","nav-tabs","nav-justified"],["role","presentation",1,"nav-item"],["id","personal-tab","data-bs-toggle","tab","data-bs-target","#personalInfoContent","type","button","role","tab","aria-controls","personalInfoContent","aria-selected","true",1,"nav-link","active"],["id","membership-tab","data-bs-toggle","tab","data-bs-target","#membershipInfoContent","type","button","role","tab","aria-controls","membershipInfoContent","aria-selected","false",1,"nav-link"],["id","academic-tab","data-bs-toggle","tab","data-bs-target","#academicInfoContent","type","button","role","tab","aria-controls","academicInfoContent","aria-selected","false",1,"nav-link"],["id","contact-tab","data-bs-toggle","tab","data-bs-target","#emergencyContactContent","type","button","role","tab","aria-controls","emergencyContactContent","aria-selected","false",1,"nav-link"],["id","registration-tab","data-bs-toggle","tab","data-bs-target","#registrationInfoContent","type","button","role","tab","aria-controls","registrationInfoContent","aria-selected","false",1,"nav-link"],[1,"tab-content","border","border-top-0","rounded-bottom","p-4"],["id","personalInfoContent","role","tabpanel","aria-labelledby","personal-tab",1,"tab-pane","fade","show","active"],[4,"ngIf","ngIfElse"],["id","membershipInfoContent","role","tabpanel","aria-labelledby","membership-tab",1,"tab-pane","fade"],["id","academicInfoContent","role","tabpanel","aria-labelledby","academic-tab",1,"tab-pane","fade"],["id","emergencyContactContent","role","tabpanel","aria-labelledby","contact-tab",1,"tab-pane","fade"],["id","registrationInfoContent","role","tabpanel","aria-labelledby","registration-tab",1,"tab-pane","fade"],[1,"mb-4","text-primary"],[1,"my-4"],[1,"mb-3","text-primary"],["class","btn btn-outline-success mb-3",3,"click",4,"ngIf"],["class","card p-4 shadow-sm",4,"ngIf"],[1,"mt-4","text-center"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"row","mb-3"],[1,"col-md-6"],[1,"btn","btn-outline-primary","mt-3",3,"click"],[1,"bi","bi-pencil"],["novalidate","",3,"ngSubmit","formGroup"],[1,"card","mb-4"],[1,"card-header","bg-primary","text-white"],[1,"mb-0","text-center"],[1,"card-body"],[1,"row"],[1,"col-md-6","mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","placeholder","Entrez votre nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","firstname",1,"form-label"],["type","text","id","firstname","formControlName","firstname","placeholder","Entrez votre pr\xe9nom",1,"form-control",3,"ngClass"],["for","nationality",1,"form-label"],["type","text","id","nationality","formControlName","nationality","placeholder","Entrez votre nationalit\xe9",1,"form-control",3,"ngClass"],["for","birthday",1,"form-label"],["type","date","id","birthday","formControlName","birthday",1,"form-control",3,"ngClass","max"],[1,"mb-3"],["for","maritalStatus",1,"form-label"],["id","maritalStatus","formControlName","maritalStatus",1,"form-control"],["value","","disabled",""],["value","SINGLE"],["value","MARRIED"],[1,"d-flex","justify-content-end","mt-3"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"invalid-feedback"],["for","yearOfBac",1,"form-label"],["id","yearOfBac","formControlName","yearOfBac","placeholder","Entrez l'ann\xe9e d'obtention du bac",1,"form-control",3,"ngClass"],["for","bacSeries",1,"form-label"],["id","bacSeries","formControlName","bacSeries",1,"form-control",3,"ngClass"],["value","","disabled","","selected",""],["value","S1"],["value","S2"],["value","S3"],["value","L1"],["value","L2"],["value","Technique"],["value","G"],["for","bacMention",1,"form-label"],["id","bacMention","formControlName","bacMention",1,"form-control",3,"ngClass"],["value","Tr\xe8s Bien"],["value","Bien"],["value","Assez Bien"],["value","Passable"],["value","Sans Mention"],["for","legacyInstitution",1,"form-label"],["id","legacyInstitution","formControlName","legacyInstitution","placeholder","Entrez l'\xe9tablissement d'origine",1,"form-control",3,"ngClass"],["for","aemudCourses",1,"form-label"],["type","text","id","aemudCourses","formControlName","aemudCourses","placeholder","Entrez les cours AEMUD",1,"form-control",3,"ngClass"],["for","otherCourses",1,"form-label"],["type","text","id","otherCourses","formControlName","otherCourses","placeholder","Entrez d'autres cours",1,"form-control",3,"ngClass"],["for","participatedActivity",1,"form-label"],["type","text","id","participatedActivity","formControlName","participatedActivity","placeholder","Entrez l'activit\xe9 particip\xe9e",1,"form-control",3,"ngClass"],["for","politicOrganisation",1,"form-label"],["type","text","id","politicOrganisation","formControlName","politicOrganisation","placeholder","Entrez l'organisation politique",1,"form-control",3,"ngClass"],[1,"col-md-4","mb-3"],["for","commission",1,"form-label"],["id","commission","formControlName","commission",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","clubs",1,"form-label"],["id","clubs","formControlName","clubs",1,"form-control",3,"ngClass"],["for","bourse",1,"form-label"],["id","bourse","formControlName","bourse",1,"form-control",3,"ngClass"],[3,"value"],[1,"col-md-12"],[1,"card","shadow-sm","border-0","mb-4"],["for","institutionName",1,"form-label"],["type","text","id","institutionName","formControlName","institutionName","placeholder","Nom de l'universit\xe9",1,"form-control",3,"ngClass"],["for","studiesDomain",1,"form-label"],["type","text","id","studiesDomain","formControlName","studiesDomain","placeholder","Entrez le domaine d'\xe9tudes",1,"form-control",3,"ngClass"],["for","studiesLevel",1,"form-label"],["type","text","id","studiesLevel","formControlName","studiesLevel","placeholder","Entrez le niveau d'\xe9tude",1,"form-control",3,"ngClass"],[1,"mb-4"],[1,"text-primary"],["class","card card-body mb-3 bg-light border-primary",4,"ngFor","ngForOf"],[1,"card","card-body","mb-3","bg-light","border-primary"],[1,"mb-2","text-primary"],["role","alert",1,"alert","alert-info"],[3,"ngSubmit","formGroup"],["for","numberPhone",1,"form-label"],[1,"input-group"],[1,"input-group-text"],["type","text","id","numberPhone","formControlName","numberPhone","placeholder","XXXXXXXXX",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Entrez l'adresse email",1,"form-control",3,"ngClass"],["type","button",1,"btn","btn-outline-primary","mt-3",3,"click","disabled"],[1,"bi","bi-plus-circle"],["formArrayName","personToCalls"],["class","mb-4 p-3 border rounded border-secondary bg-light",3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-4","p-3","border","rounded","border-secondary","bg-light",3,"formGroupName"],[1,"text-secondary"],[1,"form-label",3,"for"],["type","text","formControlName","lastname","placeholder","Entrez le nom",1,"form-control",3,"id","ngClass"],["type","text","formControlName","firstname","placeholder","Entrez le pr\xe9nom",1,"form-control",3,"id","ngClass"],["type","text","formControlName","requiredNumberPhone","placeholder","XXXXXXXXX",1,"form-control",3,"id","ngClass"],["type","text","formControlName","optionalNumberPhone","placeholder","XXXXXXXXX",1,"form-control",3,"id"],["type","text","formControlName","relationship","placeholder","Entrez la relation",1,"form-control",3,"id"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-danger","btn-sm",3,"click","disabled"],["class","my-3",4,"ngIf"],[1,"my-3"],["role","alert",1,"alert","alert-warning","text-center"],["class","card mb-3 shadow-sm border-secondary",4,"ngFor","ngForOf"],[1,"card","mb-3","shadow-sm","border-secondary"],[1,"card-header","bg-secondary","text-white"],[1,"mb-0"],[1,"badge","bg-info"],[1,"badge",3,"ngClass"],["role","alert",1,"alert","alert-info","text-center"],[1,"btn","btn-outline-success","mb-3",3,"click"],[1,"bi","bi-person-plus-fill"],[1,"card","p-4","shadow-sm"],[1,"row","gx-4","gy-3"],[1,"col-md-4"],[1,"form-group"],["for","reinscriptionSession",1,"form-label"],["id","reinscriptionSession","formControlName","session",1,"form-control","form-select-custom",3,"ngClass"],["value",""],[1,"form-label"],[1,"form-check","form-switch","form-switch-custom","d-inline-block","ms-3"],["type","checkbox","id","reinscriptionStatusPayment","formControlName","statusPayment","role","switch",1,"form-check-input"],["for","reinscriptionStatusPayment",1,"form-check-label"],["for","registrationType",1,"form-label"],["id","registrationType","formControlName","registrationType",1,"form-control",3,"ngClass"],["value","INITIAL"],["value","REINSCRIPTION"],[1,"d-flex","justify-content-end","mt-4"],[1,"bi","bi-floppy2"]],template:function(i,o){if(1&i){const a=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div")(4,"h2",10),e.EFF(5),e.k0s(),e.j41(6,"p",11),e.EFF(7),e.k0s(),e.j41(8,"p",12),e.EFF(9),e.k0s()()()(),e.j41(10,"ul",13)(11,"li",14)(12,"button",15),e.EFF(13," R\xe9sum\xe9 "),e.k0s()(),e.j41(14,"li",14)(15,"button",16),e.EFF(16," Adh\xe9sion "),e.k0s()(),e.j41(17,"li",14)(18,"button",17),e.EFF(19," Acad\xe9mique "),e.k0s()(),e.j41(20,"li",14)(21,"button",18),e.EFF(22," Contact d'Urgence "),e.k0s()(),e.j41(23,"li",14)(24,"button",19),e.EFF(25," Inscriptions "),e.k0s()()(),e.j41(26,"div",20)(27,"div",21),e.DNE(28,O,38,9,"div",22)(29,z,44,20,"ng-template",null,0,e.C5r),e.k0s(),e.j41(31,"div",23),e.DNE(32,w,51,11,"div",22)(33,ae,108,49,"ng-template",null,1,e.C5r),e.k0s(),e.j41(35,"div",24),e.DNE(36,me,21,3,"div",22)(37,pe,27,14,"ng-template",null,2,e.C5r),e.k0s(),e.j41(39,"div",25),e.DNE(40,ge,20,4,"div",22)(41,De,36,13,"ng-template",null,3,e.C5r),e.k0s(),e.j41(43,"div",26)(44,"h4",27),e.EFF(45,"Historique des Inscriptions"),e.k0s(),e.DNE(46,Me,2,1,"div",22)(47,Se,2,0,"ng-template",null,4,e.C5r),e.nrm(49,"hr",28),e.j41(50,"h4",29),e.EFF(51),e.k0s(),e.DNE(52,Ne,3,0,"button",30)(53,Ge,36,10,"div",31),e.k0s()(),e.j41(54,"div",32)(55,"button",33),e.bIt("click",function(){return e.eBV(a),e.Njj(o.deleteProfile())}),e.nrm(56,"i",34),e.EFF(57," Supprimer le profil "),e.k0s()()()}if(2&i){const a=e.sdS(30),c=e.sdS(34),u=e.sdS(38),m=e.sdS(42),p=e.sdS(48);e.R7$(5),e.Lme("",o.member.personalInfo.firstname," ",o.member.personalInfo.name,""),e.R7$(2),e.JRh(o.member.membershipInfo.legacyInstitution),e.R7$(2),e.JRh(o.member.addressInfo.addressInDakar),e.R7$(19),e.Y8G("ngIf",!o.isPersonalInfoEditing)("ngIfElse",a),e.R7$(4),e.Y8G("ngIf",!o.isEditingMembershipInfo)("ngIfElse",c),e.R7$(4),e.Y8G("ngIf",!o.isEditingAcademicInfo)("ngIfElse",u),e.R7$(4),e.Y8G("ngIf",!o.isEditingContactInfo)("ngIfElse",m),e.R7$(6),e.Y8G("ngIf",o.member.registration&&o.member.registration.length>0)("ngIfElse",p),e.R7$(5),e.Lme("Nouvelle R\xe9inscription pour ",o.member.personalInfo.firstname," ",o.member.personalInfo.name,""),e.R7$(),e.Y8G("ngIf",!o.showReenrollmentForm),e.R7$(),e.Y8G("ngIf",o.showReenrollmentForm)}},dependencies:[M.Sq,r.YN,r.qT,r.xH,r.y7,r.me,r.Zm,r.wz,r.BC,r.cb,M.bT,r.X1,r.j4,r.JD,r.$R,r.v8,M.YU],styles:[".container[_ngcontent-%COMP%]{max-width:900px}.card[_ngcontent-%COMP%]{border-radius:10px}.accordion-button[_ngcontent-%COMP%]{font-weight:700;color:#333}.accordion-body[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e0e0e0;border-radius:8px;padding:20px}.btn[_ngcontent-%COMP%]{border-radius:5px}"]})}}return n})()}}]);