"use strict";(self.webpackChunkamued_frontend=self.webpackChunkamued_frontend||[]).push([[909],{7909:(C,u,i)=>{i.r(u),i.d(u,{RegistrationComponent:()=>P});var o=i(4341),f=i(177),e=i(4438),p=i(3076),b=i(5794),h=i(1794);const g=t=>({"is-invalid":t});function _(t,d){1&t&&(e.j41(0,"div",29),e.nrm(1,"i",30),e.EFF(2," Veuillez saisir le num\xe9ro de t\xe9l\xe9phone du membre. "),e.k0s())}function k(t,d){if(1&t&&(e.j41(0,"option",31),e.EFF(1),e.k0s()),2&t){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.name)}}function v(t,d){1&t&&(e.j41(0,"div",29),e.nrm(1,"i",30),e.EFF(2," Veuillez s\xe9lectionner une session. "),e.k0s())}let P=(()=>{class t{constructor(n,c,r,s){this.fb=n,this.sessionService=c,this.toaster=r,this.memberService=s}ngOnInit(){this.sessionService.getCurrentYear().subscribe({next:n=>{"Succeeded"==n.result&&(this.session=n.data)},error:n=>{this.toaster.error("Une s'est produite")}}),this.reinscriptionForm=this.fb.group({id:[null],memberPhoneNumber:[null,o.k0.required],session:[null,o.k0.required],registrationType:["INITIAL",o.k0.required],statusPayment:[!1,o.k0.required],registrationStatus:["VALID",o.k0.required]})}onSubmit(){this.reinscriptionForm.valid&&(this.reinscriptionForm.markAllAsTouched(),this.memberService.register(this.reinscriptionForm.value).subscribe({next:n=>{this.toaster.success("L'inscription reussi"),this.reinscriptionForm.reset(),this.reinscriptionForm.get("registrationStatus")?.setValue("VALID"),this.reinscriptionForm.get("statusPayment")?.setValue(!1)},error:n=>{("MEMBER_ALL_READY_REGISTERED"==n.error.error.code||"ENTITY_NOT_FOUND"==n.error.error.code)&&this.toaster.info(n.error.error.message)}}))}static{this.\u0275fac=function(c){return new(c||t)(e.rXU(o.ok),e.rXU(p.m),e.rXU(b.tw),e.rXU(h.G))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-member-registration"]],standalone:!0,features:[e.aNF],decls:49,vars:11,consts:[[1,"reinscription-container"],["novalidate","",3,"formGroup"],[1,"card-modern"],[1,"card-body"],[1,"card-title"],[1,"row","gx-4","gy-3"],[1,"col-md-6"],[1,"form-group"],["for","memberPhoneNumber",1,"form-label"],["id","memberPhoneNumber","placeholder","Saisir le num\xe9ro de t\xe9l\xe9phone","formControlName","memberPhoneNumber",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","session",1,"form-label"],["id","session","formControlName","session",1,"form-control","form-select-custom",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-section-divider"],[1,"form-label"],[1,"d-flex","flex-row","gap-4"],[1,"form-check","form-check-custom"],["type","radio","id","initial","value","INITIAL","formControlName","registrationType",1,"form-check-input"],["for","initial",1,"form-check-label"],["type","radio","id","renewal","value","REINSCRIPTION","formControlName","registrationType",1,"form-check-input"],["for","renewal",1,"form-check-label"],[1,"form-check","form-switch","form-switch-custom"],["type","checkbox","id","statusPayment","formControlName","statusPayment","role","switch",1,"form-check-input"],["for","statusPayment",1,"form-check-label"],[1,"d-flex","justify-content-end","mt-5"],[1,"btn","btn-primary-custom",3,"click","disabled"],[1,"bi","bi-floppy2"],[1,"invalid-feedback"],[1,"bi","bi-exclamation-circle-fill"],[3,"value"]],template:function(c,r){if(1&c&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5,"Informations de R\xe9inscription"),e.k0s(),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10,"Membre"),e.k0s(),e.nrm(11,"input",9),e.DNE(12,_,3,0,"div",10),e.k0s()(),e.j41(13,"div",6)(14,"div",7)(15,"label",11),e.EFF(16,"Session"),e.k0s(),e.j41(17,"select",12)(18,"option",13),e.EFF(19,"S\xe9lectionner une session"),e.k0s(),e.DNE(20,k,2,2,"option",14),e.k0s(),e.DNE(21,v,3,0,"div",10),e.k0s()()(),e.nrm(22,"hr",15),e.j41(23,"div",5)(24,"div",6)(25,"div",7)(26,"label",16),e.EFF(27,"Type de R\xe9inscription"),e.k0s(),e.j41(28,"div",17)(29,"div",18),e.nrm(30,"input",19),e.j41(31,"label",20),e.EFF(32,"Initiale"),e.k0s()(),e.j41(33,"div",18),e.nrm(34,"input",21),e.j41(35,"label",22),e.EFF(36,"Renouvellement"),e.k0s()()()()(),e.j41(37,"div",6)(38,"div",7)(39,"label",16),e.EFF(40,"Statut du Paiement"),e.k0s(),e.j41(41,"div",23),e.nrm(42,"input",24),e.j41(43,"label",25),e.EFF(44,"Pay\xe9"),e.k0s()()()()()()(),e.j41(45,"div",26)(46,"button",27),e.bIt("click",function(){return r.onSubmit()}),e.nrm(47,"i",28),e.EFF(48," Enregistrer "),e.k0s()()()()),2&c){let s,a,l,m;e.R7$(),e.Y8G("formGroup",r.reinscriptionForm),e.R7$(10),e.Y8G("ngClass",e.eq3(7,g,(null==(s=r.reinscriptionForm.get("memberPhoneNumber"))?null:s.invalid)&&(null==(s=r.reinscriptionForm.get("memberPhoneNumber"))?null:s.touched))),e.R7$(),e.Y8G("ngIf",(null==(a=r.reinscriptionForm.get("memberPhoneNumber"))?null:a.invalid)&&(null==(a=r.reinscriptionForm.get("memberPhoneNumber"))?null:a.touched)),e.R7$(5),e.Y8G("ngClass",e.eq3(9,g,(null==(l=r.reinscriptionForm.get("session"))?null:l.invalid)&&(null==(l=r.reinscriptionForm.get("session"))?null:l.touched))),e.R7$(3),e.Y8G("ngForOf",r.availableSessions),e.R7$(),e.Y8G("ngIf",(null==(m=r.reinscriptionForm.get("session"))?null:m.invalid)&&(null==(m=r.reinscriptionForm.get("session"))?null:m.touched)),e.R7$(25),e.Y8G("disabled",r.reinscriptionForm.invalid)}},dependencies:[o.X1,o.qT,o.xH,o.y7,o.me,o.Zm,o.wz,o.Fm,o.BC,o.cb,o.j4,o.JD,f.YU,f.bT],styles:["@charset \"UTF-8\";.reinscription-container[_ngcontent-%COMP%]{max-width:900px;margin:40px auto;padding:20px;background-color:#f8f9fa;border-radius:12px;font-family:Inter,sans-serif;color:#343a40}.card-modern[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:12px;box-shadow:0 8px 20px #00000014;overflow:hidden}.card-body[_ngcontent-%COMP%]{padding:40px}.card-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:#007bff;margin-bottom:30px;text-align:center;position:relative}.card-title[_ngcontent-%COMP%]:after{content:\"\";display:block;width:60px;height:4px;background-color:#007bff;margin:10px auto 0;border-radius:2px}.form-group[_ngcontent-%COMP%]{margin-bottom:25px}.form-label[_ngcontent-%COMP%]{font-weight:500;color:#343a40;margin-bottom:8px;display:block}.form-control[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:12px 15px;font-size:1rem;color:#343a40;transition:all .3s ease-in-out;box-shadow:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#0062cc;box-shadow:0 0 0 .2rem #007bff40;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#6c757d;opacity:.7}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;padding-right:2.25rem;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle r='1' cx='6' cy='8.2'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:5px;display:block}.invalid-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.form-select-custom[_ngcontent-%COMP%]{appearance:none;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px}.form-section-divider[_ngcontent-%COMP%]{border:0;height:1px;background-color:#e0e0e0;margin:35px 0}.form-check-custom[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.25em;height:1.25em;margin-top:.25em}.form-check-custom[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#007bff;border-color:#007bff;box-shadow:none}.form-check-custom[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #007bff40}.form-check-custom[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-weight:400;color:#343a40}.form-switch-custom[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:2.5em;height:1.25em;margin-top:.25em;background-color:#e0e0e0;border-color:#e0e0e0;transition:background-position .15s ease-in-out}.form-switch-custom[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#28a745;border-color:#28a745}.form-switch-custom[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #28a74540}.btn-primary-custom[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff;padding:12px 30px;border-radius:8px;font-size:1rem;font-weight:500;transition:all .3s ease;box-shadow:0 4px 10px #007bff33}.btn-primary-custom[_ngcontent-%COMP%]:hover{background-color:#0062cc;border-color:#0062cc;box-shadow:0 6px 15px #007bff4d;transform:translateY(-2px)}.btn-primary-custom[_ngcontent-%COMP%]:disabled{background-color:#6c757d;border-color:#6c757d;cursor:not-allowed;opacity:.7;box-shadow:none;transform:translateY(0)}.btn-primary-custom[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;font-size:1.1rem}"]})}}return t})()}}]);